# Домашнее задание к занятию "Введение. Экосистема. Архитектура. Жизненный цикл Docker контейнера"


### Задача №1

Сценарий выполения задачи:

* создайте свой репозиторий на https://hub.docker.com;
* выберете любой образ, который содержит веб-сервер Nginx;
* создайте свой fork образа;
* реализуйте функциональность: запуск веб-сервера в фоне с индекс-страницей, содержащей HTML-код ниже:

*Опубликуйте созданный форк в своем репозитории и предоставьте ответ в виде ссылки на https://hub.docker.com/username_repo.

Решение:

![Screenshot from 2022-09-15 12-44-57](https://user-images.githubusercontent.com/92155007/190375825-b102dec8-375d-470f-b402-17fe1f080214.png)

https://hub.docker.com/r/samborsch/nginx

### Задача №2

Посмотрите на сценарий ниже и ответьте на вопрос: "Подходит ли в этом сценарии использование Docker контейнеров или лучше подойдет виртуальная машина, физическая машина? Может быть возможны разные варианты?"

Детально опишите и обоснуйте свой выбор.

--

Сценарий:

*Высоконагруженное монолитное java веб-приложение;
*Nodejs веб-приложение;
*Мобильное приложение c версиями для Android и iOS;
*Шина данных на базе Apache Kafka;
*Elasticsearch кластер для реализации логирования продуктивного веб-приложения - три ноды elasticsearch, два logstash и две ноды kibana;
*Мониторинг-стек на базе Prometheus и Grafana;
*MongoDB, как основное хранилище данных для java-приложения;
*Gitlab сервер для реализации CI/CD процессов и приватный (закрытый) Docker Registry.

Решение:
*Высоконагруженное монолитное java веб-приложение- если есть достаточно средств то можно прибегнуть к полной аппаратной виртуализации либо физическая машина из-за высоких нагрузок и необходимости отказоустойчивости
*Nodejs веб-приложение- контейнеризация идеальный вариант для данного сервиса. Из-за быстрого развертывания и возможности быстрой конфигурации.
*Мобильное приложение c версиями для Android и iOS- Вариант использовать несколько виртуальных машин на обной физической для нескольких версий чтобы облегчить взаимодествие с ними.
*Шина данных на базе Apache Kafka- контейнеризация на docjer подходит для данного случая. Существуют готовые образа для kafka и возмно быстрое конфигурирование при сбое сервиса.
*Elasticsearch кластер для реализации логирования продуктивного веб-приложения - три ноды elasticsearch, два logstash и две ноды kibana- так же Docker, так как для Эластик есть готовые образы.
*Мониторинг-стек на базе Prometheus и Grafana - и снова Dockerю Есть готовые образы. Удобно разворачивать.
*MongoDB, как основное хранилище данных для java-приложения - база данных, поэтому либо физическая машина, либо VM кластер с высокой отказоустойчивостью.
*Gitlab сервер для реализации CI/CD процессов и приватный (закрытый) Docker Registry. - не встречал Gitlab на контейнерах. Либо VM либо физическая машина. DockerRegistry реализован докером на базе гитлаба. При запуске ci образа подтягиваются из базы образов и формируют билд.

### Задача №3

*Запустите первый контейнер из образа centos c любым тэгом в фоновом режиме, подключив папку /data из текущей рабочей директории на хостовой машине в /data контейнера;
*Запустите второй контейнер из образа debian в фоновом режиме, подключив папку /data из текущей рабочей директории на хостовой машине в /data контейнера;
*Подключитесь к первому контейнеру с помощью docker exec и создайте текстовый файл любого содержания в /data;
*Добавьте еще один файл в папку /data на хостовой машине;
*Подключитесь во второй контейнер и отобразите листинг и содержание файлов в /data контейнера.

Решение:



### Задача №4

Воспроизвести практическую часть лекции самостоятельно.

Соберите Docker образ с Ansible, загрузите на Docker Hub и пришлите ссылку вместе с остальными ответами к задачам.

Решение:

https://hub.docker.com/r/samborsch/ansible
